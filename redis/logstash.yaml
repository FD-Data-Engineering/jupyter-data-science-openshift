apiVersion: v1
kind: Pod
metadata:
  name: logstash
  labels:
    app: logstash
  namespace: dev-jupyter-data-science
spec:
  serviceAccountName: elk-svc-acc
  containers:
    - env:
        - name: LS_JAVA_OPTS
          value: "-Xmx256m -Xms256m"
      name: logstash
      image: "docker.io/elastic/logstash:7.16.2"
      ports:
        - containerPort: 9600
      volumeMounts:
        - name: logstash-pv
          mountPath: /logstash_dir
  volumes:
    - name: logstash-pv
      persistentVolumeClaim:
        claimName: logstash-pvc
